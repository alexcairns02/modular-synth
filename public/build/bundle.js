var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function c(t){t.forEach(n)}function u(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function o(n){return n&&u(n.destroy)?n.destroy:t}function a(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function d(t,n,e,c){return t.addEventListener(n,e,c),()=>t.removeEventListener(n,e,c)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t){return""===t?null:+t}function g(t,n){n=""+n,t.data!==n&&(t.data=n)}function v(t,n){t.value=null==n?"":n}let m;function b(t){m=t}function x(){const t=function(){if(!m)throw new Error("Function called outside component initialization");return m}();return(n,e,{cancelable:c=!1}={})=>{const u=t.$$.callbacks[n];if(u){const i=function(t,n,{bubbles:e=!1,cancelable:c=!1}={}){const u=document.createEvent("CustomEvent");return u.initCustomEvent(t,e,c,n),u}(n,e,{cancelable:c});return u.slice().forEach((n=>{n.call(t,i)})),!i.defaultPrevented}return!0}}const _=[],y=[];let k=[];const w=[],E=Promise.resolve();let C=!1;function A(t){k.push(t)}function q(t){w.push(t)}const D=new Set;let G=0;function O(){if(0!==G)return;const t=m;do{try{for(;G<_.length;){const t=_[G];G++,b(t),T(t.$$)}}catch(t){throw _.length=0,G=0,t}for(b(null),_.length=0,G=0;y.length;)y.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];D.has(n)||(D.add(n),n())}k.length=0}while(_.length);for(;w.length;)w.pop()();C=!1,D.clear(),b(t)}function T(t){if(null!==t.fragment){t.update(),c(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(A)}}const S=new Set;let M;function F(t,n){t&&t.i&&(S.delete(t),t.i(n))}function N(t,n,e,c){if(t&&t.o){if(S.has(t))return;S.add(t),M.c.push((()=>{S.delete(t),c&&(e&&t.d(1),c())})),t.o(n)}else c&&c()}function j(t,n,e){const c=t.$$.props[n];void 0!==c&&(t.$$.bound[c]=e,e(t.$$.ctx[c]))}function B(t){t&&t.c()}function R(t,e,i,o){const{fragment:a,after_update:r}=t.$$;a&&a.m(e,i),o||A((()=>{const e=t.$$.on_mount.map(n).filter(u);t.$$.on_destroy?t.$$.on_destroy.push(...e):c(e),t.$$.on_mount=[]})),r.forEach(A)}function V(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];k.forEach((c=>-1===t.indexOf(c)?n.push(c):e.push(c))),e.forEach((t=>t())),k=n}(e.after_update),c(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function I(t,n){-1===t.$$.dirty[0]&&(_.push(t),C||(C=!0,E.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function L(n,u,i,o,a,r,s,p=[-1]){const f=m;b(n);const d=n.$$={fragment:null,ctx:[],props:r,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(f?f.$$.context:[])),callbacks:e(),dirty:p,skip_bound:!1,root:u.target||f.$$.root};s&&s(d.root);let $=!1;if(d.ctx=i?i(n,u.props||{},((t,e,...c)=>{const u=c.length?c[0]:e;return d.ctx&&a(d.ctx[t],d.ctx[t]=u)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](u),$&&I(n,t)),e})):[],d.update(),$=!0,c(d.before_update),d.fragment=!!o&&o(d.ctx),u.target){if(u.hydrate){const t=function(t){return Array.from(t.childNodes)}(u.target);d.fragment&&d.fragment.l(t),t.forEach(l)}else d.fragment&&d.fragment.c();u.intro&&F(n.$$.fragment),R(n,u.target,u.anchor,u.customElement),O()}b(f)}class P{$destroy(){V(this,1),this.$destroy=t}$on(n,e){if(!u(e))return t;const c=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return c.push(e),()=>{const t=c.indexOf(e);-1!==t&&c.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function U(n){let e,c,u,i,o,h,v,m,b,x=n[0]+n[2]+"";return{c(){e=s("main"),c=s("div"),u=s("h2"),u.textContent="MIDI",i=f(),o=s("h3"),h=p(n[1]),v=p(x),$(c,"class","svelte-49prnq")},m(t,l){var s;r(t,e,l),a(e,c),a(c,u),a(c,i),a(c,o),a(o,h),a(o,v),m||(b=d(window,"keydown",(s=n[3],function(t){return t.preventDefault(),s.call(this,t)})),m=!0)},p(t,[n]){2&n&&g(h,t[1]),5&n&&x!==(x=t[0]+t[2]+"")&&g(v,x)},i:t,o:t,d(t){t&&l(e),m=!1,b()}}}function z(t,n,e){const c=x();let u=!1,i=!1,o=4,a=4,r="A",l=0,s=0,p=440;return[a,r,s,function(t){if(!t.repeat){switch(i=!1,l=0,t.keyCode){case 61:o<10&&(o+=1,p*=2);break;case 173:o>-2&&(o-=1,p/=2);break;case 90:p=261.63,i=!0,e(1,r="C");break;case 83:p=277.18,i=!0,e(1,r="C#/Db");break;case 88:p=293.66,i=!0,e(1,r="D");break;case 68:p=311.13,i=!0,e(1,r="D#/Eb");break;case 67:p=329.63,i=!0,e(1,r="E");break;case 86:p=349.23,i=!0,e(1,r="F");break;case 71:p=369.99,i=!0,e(1,r="F#/Gb");break;case 66:p=392,i=!0,e(1,r="G");break;case 72:p=415.3,i=!0,e(1,r="G#/Ab");break;case 78:p=440,i=!0,e(1,r="A");break;case 74:p=466.16,i=!0,e(1,r="A#/Bb");break;case 77:p=493.88,i=!0,e(1,r="B");break;case 188:p=523.25,i=!0,e(1,r="C"),l=1;break;case 76:p=554.37,i=!0,e(1,r="C#/Db"),l=1;break;case 190:p=587.33,i=!0,e(1,r="D"),l=1;break;case 59:p=622.25,i=!0,e(1,r="D#/Eb"),l=1;break;case 191:p=659.25,i=!0,e(1,r="E"),l=1}if(i){if(o>4)for(let t=4;t<o;t++)p*=2;else for(let t=4;t>o;t--)p/=2;u=!u,e(0,a=o),e(2,s=l)}c("signal",{output:Math.log2(p),trigger:u})}}]}class H extends P{constructor(t){super(),L(this,t,z,U,i,{})}}function J(n){let e,u,i,h,g,m,b,x,_,y,k,w,E,C,A,q,D,G,O,T,S,M,F,N,j,B,R;return j=function(t){let n;return{p(...e){n=e,n.forEach((n=>t.push(n)))},r(){n.forEach((n=>t.splice(t.indexOf(n),1)))}}}(n[6][0]),{c(){e=s("main"),u=s("div"),i=s("h2"),i.textContent="Oscillator",h=f(),g=s("label"),m=s("input"),b=p("Freq"),x=f(),_=s("section"),y=s("label"),k=s("input"),w=p(" Sine"),E=f(),C=s("label"),A=s("input"),q=p(" Triangle"),D=f(),G=s("label"),O=s("input"),T=p(" Sawtooth"),S=f(),M=s("label"),F=s("input"),N=p(" Square"),$(m,"type","range"),$(m,"min","2.78135971352466"),$(m,"max","14.78135971352466"),$(m,"step","0.0001"),$(k,"type","radio"),k.__value="sine",k.value=k.__value,$(A,"type","radio"),A.__value="triangle",A.value=A.__value,$(O,"type","radio"),O.__value="sawtooth",O.value=O.__value,$(F,"type","radio"),F.__value="square",F.value=F.__value,$(u,"class","svelte-49prnq"),j.p(k,A,O,F)},m(t,c){r(t,e,c),a(e,u),a(u,i),a(u,h),a(u,g),a(g,m),v(m,n[0]),a(g,b),a(u,x),a(u,_),a(_,y),a(y,k),k.checked=k.__value===n[1].type,a(y,w),a(_,E),a(_,C),a(C,A),A.checked=A.__value===n[1].type,a(C,q),a(_,D),a(_,G),a(G,O),O.checked=O.__value===n[1].type,a(G,T),a(_,S),a(_,M),a(M,F),F.checked=F.__value===n[1].type,a(M,N),B||(R=[o(n[2].call(null,window)),d(m,"change",n[4]),d(m,"input",n[4]),d(k,"change",n[5]),d(A,"change",n[7]),d(O,"change",n[8]),d(F,"change",n[9])],B=!0)},p(t,[n]){1&n&&v(m,t[0]),2&n&&(k.checked=k.__value===t[1].type),2&n&&(A.checked=A.__value===t[1].type),2&n&&(O.checked=O.__value===t[1].type),2&n&&(F.checked=F.__value===t[1].type)},i:t,o:t,d(t){t&&l(e),j.r(),B=!1,c(R)}}}function K(t,n,e){let{ctx:c}=n,{voct:u}=n;const i=x();let o=c.createOscillator();o.start(0);return t.$$set=t=>{"ctx"in t&&e(3,c=t.ctx),"voct"in t&&e(0,u=t.voct)},t.$$.update=()=>{1&t.$$.dirty&&u&&e(1,o.frequency.value=Math.pow(2,u),o)},[u,o,()=>i("signal",{output:o}),c,function(){u=h(this.value),e(0,u)},function(){o.type=this.__value,e(1,o),e(0,u)},[[]],function(){o.type=this.__value,e(1,o),e(0,u)},function(){o.type=this.__value,e(1,o),e(0,u)},function(){o.type=this.__value,e(1,o),e(0,u)}]}class Q extends P{constructor(t){super(),L(this,t,K,J,i,{ctx:3,voct:0})}}function W(n){let e,u,i,o,h,m,b,x,_,y,k,w;return{c(){e=s("main"),u=s("div"),i=s("h2"),i.textContent="Output",o=f(),h=s("label"),m=s("input"),b=p("Gain"),x=f(),_=s("button"),y=p(n[1]),$(m,"type","range"),$(m,"min","0"),$(m,"max","2"),$(m,"step","0.001"),$(u,"class","svelte-49prnq")},m(t,c){r(t,e,c),a(e,u),a(u,i),a(u,o),a(u,h),a(h,m),v(m,n[0].gain.value),a(h,b),a(u,x),a(u,_),a(_,y),k||(w=[d(m,"change",n[5]),d(m,"input",n[5]),d(_,"click",n[2])],k=!0)},p(t,[n]){1&n&&v(m,t[0].gain.value),2&n&&g(y,t[1])},i:t,o:t,d(t){t&&l(e),k=!1,c(w)}}}function X(t,n,e){let{ctx:c}=n,{input:u}=n;var i=c.createGain(),o=!1,a="Unmute";return t.$$set=t=>{"ctx"in t&&e(3,c=t.ctx),"input"in t&&e(4,u=t.input)},t.$$.update=()=>{25&t.$$.dirty&&u&&(u.connect(i),i.connect(c.destination))},[i,a,function(){o?(o=!1,e(1,a="Unmute"),c.suspend()):(o=!0,e(1,a="Mute"),c.resume())},c,u,function(){i.gain.value=h(this.value),e(0,i)}]}class Y extends P{constructor(t){super(),L(this,t,X,W,i,{ctx:3,input:4})}}function Z(n){let e,u,i,h,g,m,b,x,_;return{c(){e=s("main"),u=s("div"),i=s("h2"),i.textContent="Amplifier",h=f(),g=s("label"),m=s("input"),b=p("Gain"),$(m,"type","range"),$(m,"min","0"),$(m,"max","2"),$(m,"step","0.001"),$(u,"class","svelte-49prnq")},m(t,c){r(t,e,c),a(e,u),a(u,i),a(u,h),a(u,g),a(g,m),v(m,n[0]),a(g,b),x||(_=[o(n[1].call(null,window)),d(m,"change",n[5]),d(m,"input",n[5])],x=!0)},p(t,[n]){1&n&&v(m,t[0])},i:t,o:t,d(t){t&&l(e),x=!1,c(_)}}}function tt(t,n,e){let{cv:c=1}=n,{ctx:u}=n,{input:i}=n;const o=x();var a=u.createGain();return t.$$set=t=>{"cv"in t&&e(0,c=t.cv),"ctx"in t&&e(2,u=t.ctx),"input"in t&&e(3,i=t.input)},t.$$.update=()=>{1&t.$$.dirty&&c&&e(4,a.gain.value=c,a),24&t.$$.dirty&&i&&i.connect(a)},[c,()=>o("signal",{output:a}),u,i,a,function(){c=h(this.value),e(0,c)}]}class nt extends P{constructor(t){super(),L(this,t,tt,Z,i,{cv:0,ctx:2,input:3})}}function et(n){let e,u,i,h,g,m,b,x,_,y,k,w,E;return{c(){e=s("main"),u=s("div"),i=s("h2"),i.textContent="Envelope",h=f(),g=s("label"),m=s("input"),b=p("Attack"),x=f(),_=s("label"),y=s("input"),k=p("Release"),$(m,"type","range"),$(m,"min","0"),$(m,"max","1"),$(m,"step","0.001"),$(y,"type","range"),$(y,"min","0"),$(y,"max","1"),$(y,"step","0.001"),$(u,"class","svelte-49prnq")},m(t,c){r(t,e,c),a(e,u),a(u,i),a(u,h),a(u,g),a(g,m),v(m,n[0]),a(g,b),a(u,x),a(u,_),a(_,y),v(y,n[1]),a(_,k),w||(E=[o(n[2].call(null,window)),d(m,"change",n[6]),d(m,"input",n[6]),d(y,"change",n[7]),d(y,"input",n[7])],w=!0)},p(t,[n]){1&n&&v(m,t[0]),2&n&&v(y,t[1])},i:t,o:t,d(t){t&&l(e),w=!1,c(E)}}}function ct(t,n,e){let{ctx:c}=n,{trigger:u}=n,{input:i}=n,o=1,a=1,r=x();var l=c.createGain();return t.$$set=t=>{"ctx"in t&&e(3,c=t.ctx),"trigger"in t&&e(4,u=t.trigger),"input"in t&&e(5,i=t.input)},t.$$.update=()=>{32&t.$$.dirty&&i&&i.connect(l),16&t.$$.dirty&&(!u&&u||(()=>{let t=c.currentTime;l.gain.cancelScheduledValues(t),l.gain.linearRampToValueAtTime(1,t+o),l.gain.linearRampToValueAtTime(0,t+o+a)})())},[o,a,()=>r("signal",{output:l}),c,u,i,function(){o=h(this.value),e(0,o)},function(){a=h(this.value),e(1,a)}]}class ut extends P{constructor(t){super(),L(this,t,ct,et,i,{ctx:3,trigger:4,input:5})}}function it(t){let n,e,c,u,i,o,p,d,h,g,v,m,b,x,_,k,w,E,C,A,D;function G(n){t[10](n)}function O(n){t[11](n)}e=new H({}),e.$on("signal",t[7]);let T={};function S(n){t[12](n)}function M(n){t[13](n)}function I(n){t[14](n)}void 0!==t[0]&&(T.ctx=t[0]),void 0!==t[2]&&(T.voct=t[2]),u=new Q({props:T}),y.push((()=>j(u,"ctx",G))),y.push((()=>j(u,"voct",O))),u.$on("signal",t[6]);let L={};function P(n){t[15](n)}function U(n){t[16](n)}function z(n){t[17](n)}void 0!==t[0]&&(L.ctx=t[0]),void 0!==t[5]&&(L.trigger=t[5]),void 0!==t[1]&&(L.input=t[1]),d=new ut({props:L}),y.push((()=>j(d,"ctx",S))),y.push((()=>j(d,"trigger",M))),y.push((()=>j(d,"input",I))),d.$on("signal",t[9]);let J={};function K(n){t[18](n)}function W(n){t[19](n)}void 0!==t[0]&&(J.ctx=t[0]),void 0!==t[3]&&(J.cv=t[3]),void 0!==t[1]&&(J.input=t[1]),b=new nt({props:J}),y.push((()=>j(b,"ctx",P))),y.push((()=>j(b,"cv",U))),y.push((()=>j(b,"input",z))),b.$on("signal",t[8]);let X={};return void 0!==t[0]&&(X.ctx=t[0]),void 0!==t[4]&&(X.input=t[4]),E=new Y({props:X}),y.push((()=>j(E,"ctx",K))),y.push((()=>j(E,"input",W))),{c(){n=s("main"),B(e.$$.fragment),c=f(),B(u.$$.fragment),p=f(),B(d.$$.fragment),m=f(),B(b.$$.fragment),w=f(),B(E.$$.fragment),$(n,"class","svelte-1h6otfa")},m(t,i){r(t,n,i),R(e,n,null),a(n,c),R(u,n,null),a(n,p),R(d,n,null),a(n,m),R(b,n,null),a(n,w),R(E,n,null),D=!0},p(t,[n]){const e={};!i&&1&n&&(i=!0,e.ctx=t[0],q((()=>i=!1))),!o&&4&n&&(o=!0,e.voct=t[2],q((()=>o=!1))),u.$set(e);const c={};!h&&1&n&&(h=!0,c.ctx=t[0],q((()=>h=!1))),!g&&32&n&&(g=!0,c.trigger=t[5],q((()=>g=!1))),!v&&2&n&&(v=!0,c.input=t[1],q((()=>v=!1))),d.$set(c);const a={};!x&&1&n&&(x=!0,a.ctx=t[0],q((()=>x=!1))),!_&&8&n&&(_=!0,a.cv=t[3],q((()=>_=!1))),!k&&2&n&&(k=!0,a.input=t[1],q((()=>k=!1))),b.$set(a);const r={};!C&&1&n&&(C=!0,r.ctx=t[0],q((()=>C=!1))),!A&&16&n&&(A=!0,r.input=t[4],q((()=>A=!1))),E.$set(r)},i(t){D||(F(e.$$.fragment,t),F(u.$$.fragment,t),F(d.$$.fragment,t),F(b.$$.fragment,t),F(E.$$.fragment,t),D=!0)},o(t){N(e.$$.fragment,t),N(u.$$.fragment,t),N(d.$$.fragment,t),N(b.$$.fragment,t),N(E.$$.fragment,t),D=!1},d(t){t&&l(n),V(e),V(u),V(d),V(b),V(E)}}}function ot(t,n,e){window.AudioContext=window.AudioContext||window.webkitAudioContext;var c=new AudioContext;let u,i,o,a,r;return[c,u,i,o,a,r,t=>{e(1,u=t.detail.output)},t=>{e(2,i=t.detail.output),e(5,r=t.detail.trigger)},t=>{t.detail.output},t=>{e(4,a=t.detail.output)},function(t){e(0,c=t)},function(t){i=t,e(2,i)},function(t){e(0,c=t)},function(t){r=t,e(5,r)},function(t){u=t,e(1,u)},function(t){e(0,c=t)},function(t){o=t,e(3,o)},function(t){u=t,e(1,u)},function(t){e(0,c=t)},function(t){a=t,e(4,a)}]}return new class extends P{constructor(t){super(),L(this,t,ot,it,i,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
